\section{Version control}
\label{S:VERSIONCONTROL}

For the users, version control tests verify that the program runs properly on your machine. 
For development purpose, version control tests verifies that changes you have made are still compatible with the current stable OpenBDLM version. 
To run version control, type \colorbox{light-gray}{\lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!OpenBDLM_main;!} in the \MATLAB{} command line, and then type \colorbox{light-gray}{\lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!V!}. 
If program runs properly, you should get in the Matlab command window some messages as shown in Listing~\ref{LST:OpenBDLMVersionControl}.

\paragraph{How does version control work ?}
In the folder ``version\_control'', there are families of three files corresponding to a given project named CTL\_00X , where X refers to the version control test index (\lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!CFG_CTL_00X.m!, \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!DATA_CTL_00X.mat! and \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!PROJ_CTL_00X.mat!).
For each family, the project file \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!PROJ_CTL_00X.mat! contains hidden states estimations computed from the data and model described in the files \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!DATA_CTL_00X.mat! and \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!CFG_CTL_00X.m!, respectively, and using a stable version of OpenBDLM.
The version control uses the pair of files \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!CFG_CTL_00X.m! and \lstinline[basicstyle = \mlttfamily \small, backgroundcolor = \color{light-gray}]!DATA_CTL_00X.mat! to compute new hidden states estimations using the current  OpenBDLM version installed on your machine.
Therefore, if the hidden states estimations from the previous stable OpenBDLM version does not match the estimations from the current OpenBDLM version (RMS value above a given threshold), or if the code crashes, the version control test fails\footnote{It is possible to add or modify CFG, PROJ and DATA files to design new version control tests.}.

 \begin{lstlisting}[ frame = single, basicstyle = \mlttfamily \small, caption = {OpenBDLM version control output}, label = LST:OpenBDLMVersionControl,  float =h!, linewidth=\linewidth, captionpos=b]
- Version control test #1
 
     Starting OpenBDLM_V1.0...
     Loading configuration file...
     Saving data...
     Building model...
     Computing hidden states ...
     Saving project...
     Saving project...
     Done ! See you soon !
 
     ==> Version control test 3: PASS
\end{lstlisting}

The functions used for version control are:
\begin{description}[style=unboxed]

\item[Pilot function for version control] \leavevmode
  \begin{lstlisting}[ basicstyle = \mlttfamily \small, breaklines=true]
piloteVersionControl(misc)
  \end{lstlisting}

\item[Version control for OpenBDLM] \leavevmode
  \begin{lstlisting}[ basicstyle = \mlttfamily \small, breaklines=true]
[controlOut]=versionControl(misc, varargin)
  \end{lstlisting}

\end{description}