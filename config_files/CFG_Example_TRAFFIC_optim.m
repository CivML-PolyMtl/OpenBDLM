%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                    OpenBDLM configuration file                          %
%          Autogenerated by OpenBDLM on 01-Feb-2019 14:59:47              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% A - Project name
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
misc.ProjectName='Example_TRAFFIC_optim';

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% B - Data
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
dat=load('DATA_Example_TRAFFIC_optim.mat'); 
data.values=dat.values;
data.timestamps=dat.timestamps;
data.labels={'TrafficLoad'};

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% C - Model structure 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Components reference numbers
% 11: Local level
% 12: Local trend
% 13: Local acceleration
% 21: Local level compatible with local trend
% 22: Local level compatible with local acceleration
% 23: Local trend compatible with local acceleration
% 31: Periodic
% 41: Autoregressive
% 51: Kernel regression
% 61: Level Intervention

% Model components
% Model 1
model.components.block{1}={[11 51 41 ] };

% Model component constrains | Take the same  parameter as model class #1
 
% Model inter-components dependence | {[components form dataset_i depends on components from  dataset_j]_i,[...]}
model.components.ic={[ ] };


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% D - Model parameters 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
model.param_properties={
     % #1           #2             #3      #4    #5               #6           #7       #8              #9              #10
     % Param name   Block name     Model   Obs   Bound            Prior        Mean     Std             Values          Ref
     '\sigma_w',   'LL',           '1',   '1',   [NaN  NaN  ],    'N/A',       NaN,     NaN,            0,              1      %#1   
     '\ell',       'KR',           '1',   '1',   [0  Inf    ],    'N/A',       NaN,     NaN,            0.051063,       2      %#2   
     'p',          'KR',           '1',   '1',   [NaN  NaN  ],    'N/A',       NaN,     NaN,            7,              3      %#3   
     '\sigma_w',   'KR',           '1',   '1',   [0  Inf    ],    'N/A',       NaN,     NaN,            3.379e-05,      4      %#4   
     '\sigma_hw',  'KR',           '1',   '1',   [NaN  NaN  ],    'N/A',       NaN,     NaN,            0,              5      %#5   
     '\phi',       'AR',           '1',   '1',   [0  1      ],    'N/A',       NaN,     NaN,            0.77924,        6      %#6   
     '\sigma_w',   'AR',           '1',   '1',   [0  Inf    ],    'N/A',       NaN,     NaN,            0.34354,        7      %#7   
     '\sigma_v',   '',             '1',   '1',   [0  Inf    ],    'N/A',       NaN,     NaN,            1.1896e-05,     8      %#8   
};



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% E - Initial states values 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Initial hidden states mean for model 1:
model.initX{ 1 }=[	3.12  	0     	-2.28 	-1.42 	-2.83 	-2.66 	-3    	-2.68 	-3.04 	-2.76 	-2.84 	-2.46 	-2.03 	-1.77 	-2.29 	-1.66 	-2.81 	-1.12 	-3.01 	-2.38 	-2.94 	-2.14 	-4.11 	-0.562	-5.66 	4.08  	4.37  	2.45  	6.1   	2.23  	6.65  	0.261 	2.02  	-3.09 	-2.05 	-1.01 	-3.75 	-1.3  	-3.71 	0.13  	7.36  	1.01  	7.83  	1.34  	6.47  	2.51  	1.08  	-1.13 	-3.78 	-0.0821	-3.46 	-2.67 	-1.99 	-3.81 	8.39  	0.615 	6.58  	2.37  	6.78  	2.88  	1.27  	0.435 	-4.15 	-0.547	-2.58 	-3.7  	-0.459	-5.28 	5.88  	2.47  	6.48  	4.43  	3.85  	6.17  	0.338 	1.41  	-3.44 	-1.96 	-1.23 	-4.17 	-0.604	-4.94 	2.38  	5.72  	3.55  	5.32  	4.28  	4.23  	2.63  	-0.57 	-1.42 	-3.68 	-0.623	-4.01 	-1.72 	-3.56 	-1.27 	-1.42 	0.601 	-0.864	-0.961	-1.48 	-0.109]';

% Initial hidden states variance for model 1: 
model.initV{ 1 }=diag([ 	0.0819	8.11  	0.471 	0.466 	0.471 	0.471 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.472 	0.471 	0.246  ]);

% Initial probability for model 1
model.initS{1}=[1     ];

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% F - Options 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
misc.options.NaNThreshold=100;
misc.options.Tolerance=1e-06;
misc.options.trainingPeriod=[1  Inf];
misc.options.isParallel=false;
misc.options.isMute=false;
misc.options.isMAP=false;
misc.options.maxTime=60;
misc.options.maxIterations=100;
misc.options.isLaplaceApprox=false;
misc.options.isPredCap=false;
misc.options.NRLevelsLambdaRef=4;
misc.options.NRTerminationTolerance=1e-07;
misc.options.maxEpochs=30;
misc.options.SplitPercent=30;
misc.options.MiniBatchSizePercent=20;
misc.options.SGTerminationTolerance=95;
misc.options.Optimizer='MMT';
misc.options.MethodStateEstimation='kalman';
misc.options.MaxSizeEstimation=100;
misc.options.DataPercent=100;
misc.options.KRNumberControlPoints=100;
misc.options.Seed=12345;
misc.options.FigurePosition=[100   100  1300   270];
misc.options.isSecondaryPlot=false;
misc.options.Subsample=1;
misc.options.Linewidth=1;
misc.options.ndivx=4;
misc.options.ndivy=3;
misc.options.Xaxis_lag=0;
misc.options.isExportTEX=false;
misc.options.isExportPNG=false;
misc.options.isExportPDF=false;
